{% load static %}

<div class="mt-2 flex items-center space-x-2 space-x-reverse">
    <div class="shrink-0">
      <img
        id="preview_img"
        class="h-16 w-16 object-cover rounded-full"
        {% if image_url %}
        src="{{ image_url }}"
        {% else %}
        src="{% static 'img/coffee_placeholder.jpg' %}"
        {% endif %}
      />
    </div>
    <input
      name="image"
      type="file"
      accept="image/*"
      onchange="loadFile(event)"
      class="block w-full text-sm text-slate-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-amber-50 file:text-amber-800 hover:file:bg-amber-100"
    />
  </div>



    <script>
    var loadFile = function (event) {

        var input = event.target;
        var file = input.files[0];
        var type = file.type;

        var output = document.getElementById('preview_img');


        output.src = URL.createObjectURL(event.target.files[0]);
        output.onload = function () {
            URL.revokeObjectURL(output.src) // free memory
        }
    };
</script>
